<?php
defined('BASEPATH') OR exit('No direct script access allowed');

  class AdminModel extends CI_Model{
    //Usuarios
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------

    public function getUsuarios(){
      $this->db->select('*');
      $this->db->from('usuario');
      $query = $this->db->get()->result_array();
      return $query;
    }

    public function crearUsuario($data){
      $this->db->insert('usuario',$data);
      return $this->db->insert_id();
    }

    public function deshabilitarUsuario($id){
      $data = array('estado' => 0  );
      $this->db->where('idusr', $id);
      $this->db->update('usuario', $data);



    }

    public function habilitarUsuario($id){
      $data = array('estado' => 1  );
      $this->db->where('idusr', $id);
      $this->db->update('usuario', $data);



    }

    public function getRoles(){
      $this->db->select('*');
      $this->db->from('rol');
      $query = $this->db->get()->result_array();
      return $query;
    }


    public function usuarioExiste($data){
      $this->db->select('count(*) as c');
      $this->db->from('usuario');
      $this->db->where('username',$data);
      $num = $this->db->get()->result_array();
      return $num;
    }

    public function getUsuario($id){
      $this->db->select('*');
      $this->db->from('usuario');
      $this->db->where('idusr',$id);
      $num = $this->db->get()->result_array();
      return $num;
    }

    public function editarUsuario($id,$data){
      $this->db->where('idusr', $id);
      $this->db->update('usuario', $data);
    }

    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //Fin usuarios
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //Formatos
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    public function getFormatos(){
      $this->db->select('*');
      $this->db->from('formato');
      $query = $this->db->get()->result_array();
      return $query;
    }

    public function crearFormato($data){
      $this->db->insert('formato',$data);
      return $this->db->insert_id();
    }

    public function deshabilitarFormato($id){
      $data = array('estado' => 0  );
      $this->db->where('idformato', $id);
      $this->db->update('formato', $data);
    }

    public function habilitarFormato($id){
      $data = array('estado' => 1  );
      $this->db->where('idformato', $id);
      $this->db->update('formato', $data);
    }

    public function formatoExiste($data){
      $this->db->select('count(*) as c');
      $this->db->from('formato');
      $this->db->where('nombre',$data);
      $num = $this->db->get()->result_array();
      return $num;
    }

    public function editarFormato($id,$data){
      $this->db->where('idformato', $id);
      $this->db->update('formato', $data);
    }

    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //Fin Formatos
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //Cassettes
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    //------------------------------------------------------------------------------------------
    public function getCassette(){
      $this->db->select('*');
      $this->db->from('cassette');
      $query = $this->db->get()->result_array();
      return $query;
    }

    public function crearCassette($data){
      $this->db->insert('cassette',$data);
      return $this->db->insert_id();
    }

    public function deshabilitarCassette($id){
      $data = array('estado' => 0  );
      $this->db->where('idcassette', $id);
      $this->db->update('cassette', $data);
    }

    public function habilitarCassette($id){
      $data = array('estado' => 1  );
      $this->db->where('idcassette', $id);
      $this->db->update('cassette', $data);
    }

    public function cassetteExiste($data){
      $this->db->select('count(*) as c');
      $this->db->from('cassette');
      $this->db->where('nombre',$data);
      $num = $this->db->get()->result_array();
      return $num;
    }

    public function editarCassette($id,$data){
      $this->db->where('idcassette', $id);
      $this->db->update('cassette', $data);
    }










  }

?>
